"use strict";(self.webpackChunksnet=self.webpackChunksnet||[]).push([[278],{8294:function(t,e,s){s.d(e,{Gr:function(){return h},II:function(){return f},gx:function(){return d}});var n=s(1413),o=s(5987),i=(s(2791),s(6139)),r=s(4274),a=s(184),l=["input","meta"],c=["input","meta"],u=function(t){var e=t.meta,s=e.touched,n=e.error,o=t.children,i=s&&n;return(0,a.jsxs)("div",{className:r.Z.formControl+" "+(i?r.Z.error:""),children:[(0,a.jsx)("div",{children:o}),i&&(0,a.jsx)("span",{children:n})]})},d=function(t){var e=t.input,s=t.meta,i=(0,o.Z)(t,l);return(0,a.jsxs)(u,{meta:s,children:[" ",(0,a.jsx)("textarea",(0,n.Z)((0,n.Z)({},e),i))," "]})},f=function(t){var e=t.input,s=t.meta,i=(0,o.Z)(t,c);return(0,a.jsxs)(u,{meta:s,children:[" ",(0,a.jsx)("input",(0,n.Z)((0,n.Z)({},e),i))," "]})},h=function(t,e,s,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Z,(0,n.Z)({placeholder:t,name:e,validate:s,component:o},r))," ",l]})}},2278:function(t,e,s){s.r(e),s.d(e,{default:function(){return st}});var n=s(1413),o=s(5671),i=s(3144),r=s(136),a=s(8557),l=s(2791),c=s(8687),u=s(9271),d=s(7781),f={},h=s(1767),p=s(3433),m={},x=s(9439),j="Post_item__RwRr7",v=s(4352),_=s(1385),g=s(641),Z=s(6726),b=s(9529),N=s(7804),P=s(184),I=_.Z.Meta,k=function(t){var e=(0,l.useState)(t.likesCount),s=(0,x.Z)(e,2),n=s[0],o=s[1],i=(0,v.C)((function(t){var e;return null===(e=t.profilePage.profile.photos)||void 0===e?void 0:e.small}));return(0,P.jsxs)("div",{className:j,children:[i?(0,P.jsx)("img",{src:i,alt:"ava"}):(0,P.jsx)(g.C,{icon:(0,P.jsx)(b.Z,{})}),(0,P.jsx)(_.Z,{style:{width:300,marginTop:0,padding:0,textAlign:"start"},actions:[(0,P.jsx)(Z.Z,{count:n,offset:[10,10],style:{backgroundColor:"inherit",color:"#000"},children:(0,P.jsx)(N.Z,{onClick:function(){o(t.likesCount+1)}},"likes")})],children:(0,P.jsx)(I,{style:{color:"#000"},description:t.message})})]})},y=s(6139),C=s(704),S={container:"AddNewPostForm_container__4BOdR",btn:"AddNewPostForm_btn__Ac+8V"},F=s(5086),w=s(8294),A=(0,F.D)(30),M=(0,C.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,P.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,P.jsx)("div",{style:{fontSize:22,fontWeight:600,color:"#d7d7a7"},children:"My Posts"}),(0,P.jsxs)("div",{className:S.container,children:[(0,P.jsx)(y.Z,{style:{width:"350px",height:"70px",borderRadius:"10px",padding:"10px"},component:w.gx,name:"newPostText",validate:[F.C,A],placeholder:"Post message",rows:2}),(0,P.jsx)("div",{children:(0,P.jsx)("button",{className:S.button,type:"submit",children:"Add post"})})]})]})})),D=s(649),T=D.Z.Content,E=l.memo((function(t){var e=(0,p.Z)(t.posts).reverse().map((function(t){return(0,P.jsx)(k,{id:t.id,message:t.message,likesCount:t.likesCount},t.id)}));return(0,P.jsx)("div",{className:m.postsBlock,children:(0,P.jsxs)(T,{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",margin:"10px 16px",padding:24,borderRadius:5,background:"#001529"},children:[(0,P.jsx)(M,{onSubmit:function(e){t.addPost(e.newPostText),e.newPostText=""}}),(0,P.jsx)("div",{className:m.posts,children:e})]})})})),G=(0,c.$j)((function(t){return{posts:t.profilePage.posts,messageForNewPost:t.profilePage.messageForNewPost}}),(function(t){return{addPost:function(e){t((0,h.q2)(e))}}}))(E),J={descriptionBlock:"ProfileInfo_descriptionBlock__2cyKN",statusInfo:"ProfileInfo_statusInfo__897ZR",profileImg:"ProfileInfo_profileImg__qjGcQ",camera_button:"ProfileInfo_camera_button__dnDGf",avatar:"ProfileInfo_avatar__2KihW",mainPhoto:"ProfileInfo_mainPhoto__znl1r",contact:"ProfileInfo_contact__eiB1G",title:"ProfileInfo_title__S4oji",profile_container:"ProfileInfo_profile_container__FNLRw",button_edit:"ProfileInfo_button_edit__xpdTo",selfInfo:"ProfileInfo_selfInfo__3qa5D"},O=s(4274),R=(0,C.Z)({form:"edit-profile"})((function(t){var e,s=t.handleSubmit,n=t.initialValues,o=t.error;return(0,P.jsx)("div",{className:J.profile_container,children:(0,P.jsxs)("form",{onSubmit:s,children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{className:O.Z.title,children:"Full name: "})," ",(0,w.Gr)("Full name","fullName",[],w.II)]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:O.Z.title,children:"Looking For A Job:"}),(0,w.Gr)("","lookingForAJob",[],w.II,{type:"checkbox"})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{className:O.Z.title,children:"My professional skills: "})," ",(0,w.Gr)("My professional skills","lookingForAJobDescription",[],w.gx)]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{className:O.Z.title,children:"About me: "})," ",(0,w.Gr)("About me","aboutMe",[],w.gx)]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{className:O.Z.title,children:"Contacts: "})," ",Object.keys(null!==(e=n.contacts)&&void 0!==e?e:{}).map((function(t){return(0,P.jsx)("div",{className:J.contact,children:(0,P.jsxs)("b",{children:[t,": ",(0,w.Gr)(t,"users."+t,[],w.II)]})},t)}))]}),(0,P.jsxs)("div",{className:O.Z.button_save,children:[(0,P.jsx)("button",{onClick:s,children:"Save"}),o&&(0,P.jsx)("div",{className:O.Z.formSummaryError,children:o})]})]})})})),z=s(7354),B=s(8686),q=s(9603),U=s(8213),V=s(6399),L=s(1497),Q={},$=function(t){var e=(0,l.useState)(!1),s=(0,x.Z)(e,2),n=s[0],o=s[1],i=(0,l.useState)(t.status),r=(0,x.Z)(i,2),a=r[0],c=r[1];(0,l.useEffect)((function(){c(t.status)}),[t.status]);return(0,P.jsxs)("div",{children:[!n&&(0,P.jsxs)("div",{className:Q.status_title,children:[(0,P.jsx)("span",{children:"Status:"})," ",(0,P.jsxs)("span",{onDoubleClick:function(){o(!0)},children:[" ",t.status||"-----"]})]}),n&&(0,P.jsx)("div",{children:(0,P.jsx)(L.Z,{onChange:function(t){c(t.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),t.updateStatus(a)},value:a})})]})},K=function(t){var e,s,n=t.profile,o=t.status,i=t.updateStatus,r=t.isOwner,a=t.savePhoto,c=t.saveProfile,u=(0,l.useRef)(null),d=(0,l.useState)(!1),f=(0,x.Z)(d,2),h=f[0],p=f[1];if(!n)return(0,P.jsx)(V.p,{});return(0,P.jsx)("div",{children:(0,P.jsxs)("div",{className:J.descriptionBlock,children:[(0,P.jsxs)("div",{className:J.statusInfo,children:[(0,P.jsxs)("div",{className:J.avatar,children:[null!==(e=n.photos)&&void 0!==e&&e.large?(0,P.jsx)("img",{src:null===(s=n.photos)||void 0===s?void 0:s.large,className:J.mainPhoto,alt:"large avatar"}):(0,P.jsx)(g.C,{shape:"square",size:45,icon:(0,P.jsx)(b.Z,{})}),(0,P.jsx)("div",{className:J.camera_button,children:(0,P.jsx)(z.ZP,{type:"default",shape:"circle",icon:(0,P.jsx)(U.Z,{}),onClick:function(){var t;return null===(t=u.current)||void 0===t?void 0:t.click()}})})]}),(0,P.jsx)($,{status:o,updateStatus:i})]}),r&&(0,P.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&a(t.target.files[0])},ref:u,style:{display:"none"}}),h?(0,P.jsx)(R,{initialValues:n,onSubmit:function(t){c(t),p(!1)}}):(0,P.jsx)(H,{goToEditMode:function(){p(!0)},profile:n,isOwner:r})]})})},W=D.Z.Content,H=function(t){var e=t.profile,s=t.isOwner,n=t.goToEditMode;return(0,P.jsx)("div",{className:J.contact,children:(0,P.jsx)(W,{style:{display:"flex",margin:"10px 16px",padding:14,minHeight:200,background:"#f5f5f5"},children:(0,P.jsxs)(B.Z,{gutter:12,style:{flexFlow:"nowrap"},children:[(0,P.jsxs)(q.Z,{span:12,className:J.selfInfo,children:[(0,P.jsxs)("div",{className:J.infoItem,children:[(0,P.jsx)("span",{className:J.title,children:"Full name: "})," ",e.fullName]}),(0,P.jsxs)("div",{className:J.infoItem,children:[(0,P.jsx)("span",{className:J.title,children:"Looking For A Job: "}),e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,P.jsxs)("div",{className:J.infoItem,children:[(0,P.jsx)("span",{className:J.title,children:"My professional skills: "})," ",e.lookingForAJobDescription]}),(0,P.jsxs)("div",{className:J.infoItem,children:[(0,P.jsx)("span",{className:J.title,children:"About Me: "})," ",e.aboutMe]})]}),(0,P.jsxs)(q.Z,{span:12,className:J.contactInfo,children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{className:J.title,children:"Contacts: "})," ",e.contacts&&Object.keys(e.contacts).map((function(t){return(0,P.jsx)(X,{contactTitle:t,contactValue:e.contacts[t]},t)}))]}),s&&(0,P.jsx)("div",{className:J.button_edit,children:(0,P.jsx)("button",{onClick:n,children:"Edit"})})]})]})})})},X=function(t){var e=t.contactTitle,s=t.contactValue;return(0,P.jsxs)("div",{className:J.contact,children:[(0,P.jsxs)("span",{className:J.title,children:[e,": "]})," ",s]})},Y=function(t){return(0,P.jsxs)("div",{className:f.container,children:[(0,P.jsx)(K,{savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,saveProfile:t.saveProfile,updateStatus:t.updateStatus}),(0,P.jsx)(G,{})]})},tt=s(4004),et=function(t){(0,r.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,o.Z)(this,s),e.apply(this,arguments)}return(0,i.Z)(s,[{key:"refreshProfile",value:function(){var t,e=this.props.match.params.userId;if(!e&&!(e=null===(t=this.props.authorizedUserId)||void 0===t?void 0:t.toString()))return this.props.history.push("/login");this.props.getUserProfile(Number(e)),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,P.jsx)(Y,(0,n.Z)((0,n.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(l.Component),st=(0,d.qC)((0,c.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:h.et,getStatus:h.lR,updateStatus:h.Nf,savePhoto:h.Ju,saveProfile:h.Ii}),u.EN,tt.D)(et)},4004:function(t,e,s){s.d(e,{D:function(){return u}});var n=s(1413),o=s(5987),i=(s(2791),s(8687)),r=s(9271),a=s(184),l=["isAuth"],c=function(t){return{isAuth:t.auth.isAuth}};function u(t){return(0,i.$j)(c)((function(e){var s=e.isAuth,i=(0,o.Z)(e,l);return s?(0,a.jsx)(t,(0,n.Z)({},i)):(0,a.jsx)(r.l_,{to:"/login"})}))}},5086:function(t,e,s){s.d(e,{C:function(){return n},D:function(){return o}});var n=function(t){if(!t)return"Field is required"},o=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t," symbols")}}},4274:function(t,e){e.Z={formControl:"FormControls_formControl__4-aEQ",error:"FormControls_error__FhzQa",formSummaryError:"FormControls_formSummaryError__J-zp3",title:"FormControls_title__+kebM",button_save:"FormControls_button_save__Zuuoh"}}}]);
//# sourceMappingURL=278.afc23125.chunk.js.map